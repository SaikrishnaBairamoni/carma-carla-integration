<launch>
  <!--
    ###################
    ## Configuration ##
    ###################
  -->
  <arg name='agent' default='agent'/>

  <!-- connecting default info  -->>
  <arg name='host' default='127.0.0.1'/>
  <arg name='port' default='2000'/>
  <arg name='town' default='Town02'/>

  <!-- use comma separated format "x,y,z,roll,pÃ¬tch,yaw" -->
  <arg name='spawn_point' default=''/>

  <!-- vehicle info -->
  <arg name='role_name' default='ego_vehicle'/>
  <arg name='vehicle_model' default='vehicle.toyota.prius'/>
  <arg name='vehicle_length' default='5.00'/>
  <arg name='vehicle_width' default='3.00'/>
  <arg name='vehicle_wheelbase' default='2.79'/>

  <arg name='use_ground_truth_localization' default='false'/>
  <arg name='use_ground_truth_detections' default='false'/>

  <!--
    ##########################
    ##  CARLA CARMA bridge  ##
    ##########################
  -->
  <include file='$(find carla_carma_bridge)/launch/carla_carma_bridge.launch'>
    <arg name='host' value='$(arg host)'/>
    <arg name='port' value='$(arg port)'/>
    <arg name='town' value='$(arg town)'/>
    <arg name='vehicle_filter' value='$(arg vehicle_model)'/>
    <arg name='role_name' value='$(arg role_name)'/>
    <arg name='spawn_point' value='$(arg spawn_point)'/>
  </include>

  <!--
    ##################
    ## Agent bridge ##
    ##################
  -->
  <include file='$(find carla_carma_agent)/$(arg agent)/bridge.launch'>
    <arg name='role_name' value='$(arg role_name)'/>
  </include>

  <!--
    ####################
    ## CARMA agent ##
    ####################
  -->
  <include file='$(find carla_carma_agent)/$(arg agent)/my_agent.launch'>
    <arg name='town' value='$(arg town)'/>
    <arg name='vehicle_length' value='$(arg vehicle_length)'/>
    <arg name='vehicle_width' value='$(arg vehicle_width)'/>
    <arg name='use_ground_truth_localization' value='$(arg use_ground_truth_localization)'/>
    <arg name='use_ground_truth_detections' value='$(arg use_ground_truth_detections)'/>
  </include>


</launch>
